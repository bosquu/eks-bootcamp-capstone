import * as cdk from 'aws-cdk-lib';
import { KubernetesVersion } from 'aws-cdk-lib/aws-eks';
import { Construct } from 'constructs';
import { ConstraintsType } from "../utils";
import * as spi from '../spi';
import { StringConstraint } from '../utils';
export declare class EksBlueprintProps {
    /**
     * The id for the blueprint.
     */
    readonly id: string;
    /**
     * Defaults to id if not provided
     */
    readonly name?: string;
    /**
     * Add-ons if any.
     */
    readonly addOns?: Array<spi.ClusterAddOn>;
    /**
     * Teams if any
     */
    readonly teams?: Array<spi.Team>;
    /**
     * EC2 or Fargate are supported in the blueprint but any implementation conforming the interface
     * will work
     */
    readonly clusterProvider?: spi.ClusterProvider;
    /**
     * Kubernetes version (must be initialized for addons to work properly)
     */
    readonly version?: KubernetesVersion;
    /**
     * Named resource providers to leverage for cluster resources.
     * The resource can represent Vpc, Hosting Zones or other resources, see {@link spi.ResourceType}.
     * VPC for the cluster can be registered under the name of 'vpc' or as a single provider of type
     */
    resourceProviders?: Map<string, spi.ResourceProvider>;
    /**
     * Control Plane log types to be enabled (if not passed, none)
     * If wrong types are included, will throw an error.
     */
    readonly enableControlPlaneLogTypes?: ControlPlaneLogType[];
}
export declare class BlueprintPropsConstraints implements ConstraintsType<EksBlueprintProps> {
    /**
    * id can be no less than 1 character long, and no greater than 63 characters long.
    * https://kubernetes.io/docs/concepts/overview/working-with-objects/names/
    */
    id: StringConstraint;
    /**
    * name can be no less than 1 character long, and no greater than 63 characters long.
    * https://kubernetes.io/docs/concepts/overview/working-with-objects/names/
    */
    name: StringConstraint;
}
export declare const enum ControlPlaneLogType {
    API = "api",
    AUDIT = "audit",
    AUTHENTICATOR = "authenticator",
    CONTROLLER_MANAGER = "controllerManager",
    SCHEDULER = "scheduler"
}
/**
 * Blueprint builder implements a builder pattern that improves readability (no bloated constructors)
 * and allows creating a blueprint in an abstract state that can be applied to various instantiations
 * in accounts and regions.
 */
export declare class BlueprintBuilder implements spi.AsyncStackBuilder {
    props: Partial<EksBlueprintProps>;
    env: {
        account?: string;
        region?: string;
    };
    constructor();
    name(name: string): this;
    account(account?: string): this;
    region(region?: string): this;
    version(version: KubernetesVersion): this;
    enableControlPlaneLogTypes(...types: ControlPlaneLogType[]): this;
    withBlueprintProps(props: Partial<EksBlueprintProps>): this;
    addOns(...addOns: spi.ClusterAddOn[]): this;
    clusterProvider(clusterProvider: spi.ClusterProvider): this;
    id(id: string): this;
    teams(...teams: spi.Team[]): this;
    resourceProvider(name: string, provider: spi.ResourceProvider): this;
    clone(region?: string, account?: string): BlueprintBuilder;
    build(scope: Construct, id: string, stackProps?: cdk.StackProps): EksBlueprint;
    buildAsync(scope: Construct, id: string, stackProps?: cdk.StackProps): Promise<EksBlueprint>;
}
/**
 * Entry point to the platform provisioning. Creates a CFN stack based on the provided configuration
 * and orchestrates provisioning of add-ons, teams and post deployment hooks.
 */
export declare class EksBlueprint extends cdk.Stack {
    static readonly USAGE_ID = "qs-1s1r465hk";
    private asyncTasks;
    private clusterInfo;
    static builder(): BlueprintBuilder;
    constructor(scope: Construct, blueprintProps: EksBlueprintProps, props?: cdk.StackProps);
    /**
     * Since constructor cannot be marked as async, adding a separate method to wait
     * for async code to finish.
     * @returns Promise that resolves to the blueprint
     */
    waitForAsyncTasks(): Promise<EksBlueprint>;
    /**
     * This method returns all the constructs produced by during the cluster creation (e.g. add-ons).
     * May be used in testing for verification.
     * @returns cluster info object
     */
    getClusterInfo(): spi.ClusterInfo;
    private provideNamedResources;
    private validateInput;
}
